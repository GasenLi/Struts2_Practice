<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>学生查询</title>

</head>

<body>
    <form id="SearchBar">
        <span>属性</span>

        <select id="menu" name="menu">
            <option value ="name">姓名</option>
            <option value ="age">年龄</option>
            <option value="sno">学号</option>
        </select>

        <select id="range" name="range">
            <option value ="include">包含</option>
            <option value ="equal">等于</option>
        </select>

        <input size="30" name="value" value="王">

        <button id="search">查询</button>
    </form>

    <form id="result">
        <table>
            <thead>
                <tr>
                    <th>学号</th>
                    <th>姓名</th>
                    <th>年龄</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <th>1</th>
                    <th>2</th>
                    <th>3</th>
                </tr>
            </tbody>
        </table>
    </form>

</body>


<script src="./Util/jquery-3.2.1.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript">
    //查询
    $(function() {
        $("#search").click(function(e) {
            var formData = $("#SearchBar").serialize();
            e.preventDefault();
            console.log(formData);

            $.ajax({
                type : "post",
                url : '/SQ/StudentQuery.action',
                data : formData,
                dataType:"json",
                success : function(d) {
                    console.log("成功",d);
                },
                error : function(d) {
                    console.log("异常",d);
                    alert("异常"+JSON.stringify(d))
                }
            });
        });
    });

    $(document).ready(function () {
        $("#menu").bind("change",function(){
            console.log(this.value);
            if(this.value=='sno'){
                $("#range").html("<option id ='greater'>大于</option>" +
                    "<option value ='gore'>大于等于</option>" +
                    "<option value='equal'>等于</option>" +
                    "<option value='sore'>小于等于</option>" +
                    "<option value='smaller'>小于</option>")
            }
            else{
                $("#range").html(" <option value ='include'>包含</option>" +
                    "<option value='equal'>等于</option>")
            }
        });
    });
</script>
</html>